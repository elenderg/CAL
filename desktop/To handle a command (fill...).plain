To handle an command (fill...):
  Create an submenu.
  Add swatches to the submenu given "handle fill".
  Handle the command given the submenu and the palette width.
  
  