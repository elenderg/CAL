To internalize an shape given an rider (group):
  Create the shape.
  Put the rider's token into the shape's kind.
  Move the rider (document rules).
  Internalize the shape's shapes given the rider.
  Adjust the shape.
  If the rider's token is not "end", fail with "Invalid document - invalid group"; exit.
  Move the rider (document rules).
  
  